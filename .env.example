# =============================================================================
# TRADING AUTOMATION SYSTEM - ENVIRONMENT CONFIGURATION
# =============================================================================
# Copy this file to .env and fill in your actual values
# NEVER commit .env to version control
# =============================================================================

# -----------------------------------------------------------------------------
# APPLICATION SETTINGS
# -----------------------------------------------------------------------------
APP_NAME=AegisTradingAutomation
APP_ENV=development  # development, staging, production
DEBUG=true
LOG_LEVEL=INFO

# -----------------------------------------------------------------------------
# METATRADER 5 CONFIGURATION
# -----------------------------------------------------------------------------
# Your Exness MT5 credentials
MT5_LOGIN=your_account_number
MT5_PASSWORD=your_password
MT5_SERVER=Exness-MT5Real  # or Exness-MT5Trial for demo
MT5_PATH=C:/Program Files/MetaTrader 5/terminal64.exe

# MT5 API settings (if using remote connection)
MT5_API_HOST=localhost
MT5_API_PORT=8001

# -----------------------------------------------------------------------------
# TRADING PARAMETERS
# -----------------------------------------------------------------------------
# Default symbol to trade
DEFAULT_SYMBOL=XAUUSD

# Risk management
MAX_RISK_PER_TRADE=0.01       # 1% risk per trade
MAX_DAILY_RISK=0.03           # 3% max daily risk
MAX_DRAWDOWN_PERCENT=0.10     # 10% max drawdown before shutdown
MAX_TRADES_PER_DAY=3          # Maximum trades per day
MIN_TRADE_INTERVAL_MINUTES=60 # Minimum time between trades

# Position sizing
DEFAULT_LOT_SIZE=0.01
MAX_LOT_SIZE=0.05
USE_ATR_SIZING=true
ATR_MULTIPLIER=1.5

# Session filtering (GMT times)
LONDON_SESSION_START=08:00
LONDON_SESSION_END=16:00
NY_SESSION_START=13:00
NY_SESSION_END=21:00
TRADE_SESSIONS=london,newyork  # Comma-separated: asian,london,newyork

# -----------------------------------------------------------------------------
# DATABASE CONFIGURATION
# -----------------------------------------------------------------------------
POSTGRES_USER=trading_user
POSTGRES_PASSWORD=your_secure_password_here
POSTGRES_DB=trading_db
POSTGRES_HOST=postgres
POSTGRES_PORT=5432

# Full database URL (constructed from above or override directly)
DATABASE_URL=postgresql://${POSTGRES_USER}:${POSTGRES_PASSWORD}@${POSTGRES_HOST}:${POSTGRES_PORT}/${POSTGRES_DB}

# -----------------------------------------------------------------------------
# REDIS CONFIGURATION
# -----------------------------------------------------------------------------
REDIS_HOST=redis
REDIS_PORT=6379
REDIS_DB=0
REDIS_URL=redis://${REDIS_HOST}:${REDIS_PORT}/${REDIS_DB}

# -----------------------------------------------------------------------------
# TELEGRAM NOTIFICATIONS
# -----------------------------------------------------------------------------
TELEGRAM_BOT_TOKEN=your_bot_token_here
TELEGRAM_CHAT_ID=your_chat_id_here
TELEGRAM_ENABLED=true

# Notification settings
NOTIFY_ON_TRADE_OPEN=true
NOTIFY_ON_TRADE_CLOSE=true
NOTIFY_ON_DAILY_SUMMARY=true
NOTIFY_ON_ERROR=true
NOTIFY_ON_DRAWDOWN_WARNING=true

# -----------------------------------------------------------------------------
# API CONFIGURATION
# -----------------------------------------------------------------------------
API_HOST=0.0.0.0
API_PORT=8000
API_SECRET_KEY=your_very_long_random_secret_key_here

# TradingView webhook secret (for signal validation)
TRADINGVIEW_WEBHOOK_SECRET=your_webhook_secret_here

# -----------------------------------------------------------------------------
# MONITORING
# -----------------------------------------------------------------------------
GRAFANA_USER=admin
GRAFANA_PASSWORD=your_grafana_password_here

# Prometheus metrics
ENABLE_METRICS=true
METRICS_PORT=9100

# -----------------------------------------------------------------------------
# BEHAVIORAL SAFEGUARDS
# -----------------------------------------------------------------------------
# These settings help prevent manual intervention
ENABLE_MANUAL_OVERRIDE=false           # Set to false in production!
REQUIRE_CONFIRMATION_FOR_MANUAL=true
COOLDOWN_AFTER_LOSS_MINUTES=30
MAX_CONSECUTIVE_LOSSES=3               # Pause trading after N consecutive losses
PAUSE_DURATION_HOURS=4                 # How long to pause after max losses

# -----------------------------------------------------------------------------
# BACKTESTING
# -----------------------------------------------------------------------------
BACKTEST_DATA_PATH=/app/data/historical
BACKTEST_START_DATE=2023-01-01
BACKTEST_END_DATE=2024-12-31
